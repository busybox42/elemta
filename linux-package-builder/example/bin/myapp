#!/bin/bash

# Simple example application

CONFIG_FILE="/etc/myapp/myapp.conf"

# Parse command line arguments
while [[ $# -gt 0 ]]; do
    case $1 in
        --config)
            CONFIG_FILE="$2"
            shift 2
            ;;
        *)
            echo "Unknown option: $1"
            exit 1
            ;;
    esac
done

# Check if config file exists
if [ ! -f "$CONFIG_FILE" ]; then
    echo "Error: Config file not found: $CONFIG_FILE"
    exit 1
fi

# Read configuration
source "$CONFIG_FILE"

# Print welcome message
echo "Welcome to $APP_NAME version $APP_VERSION!"
echo "Running with configuration from $CONFIG_FILE"
echo "Data directory: $DATA_DIR"

# Main loop
while true; do
    echo "$(date): $APP_NAME is running..."
    sleep 60
done 